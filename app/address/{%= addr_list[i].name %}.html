<!DOCTYPE html>
<!-- Built on Frappe. https://frappeframework.com/ -->
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="generator" content="frappe">

	
		<meta name="title" content="Login"><meta name="language" content="en"><meta property="og:type"  content="article"><meta property="og:title"  content="Login"><meta name="twitter:title" content="Login"><meta name="twitter:card" content="summary">
	

	<title>Login</title>

	
	<link
		rel="shortcut icon"
		href="../../assets/frappe/images/frappe-favicon.svg"
		type="image/x-icon"
	>
	<script defer data-domain="docs.frappe.io" src="https://analytics.frappe.cloud/js/plausible.js"></script>
<link type="text/css" rel="stylesheet" href="../../assets/frappe/dist/css/website.bundle.RHGQXNFY.css">
<link type="text/css" rel="stylesheet" href="../../assets/frappe/dist/css/login.bundle.4MS4DR47.css">

		

	<script>
		window.frappe = {};
		window._version_number = "1745580683.5201495";
		frappe.ready_events = [];
		frappe.ready = function(fn) {
			frappe.ready_events.push(fn);
		}
		window.dev_server = 0;
		window.socketio_port = 9000;
		window.show_language_picker = false;
	</script>
</head>
<body frappe-session-status="logged-out" data-path="login" class="">

		








<div id="page-login" data-path="login">
	
<div class="page-content-wrapper">
	<!-- breadcrumbs -->
	<div class="page-breadcrumbs">
		
			
		
	</div>

	
	<main class="container">
		<div class="page-header-wrapper">
			<div class="page-header">
				
			</div>

			
		</div>

		<div class="page_content">
<!-- login.html -->
<div>
	<noscript>
		<div class="text-center my-5">
			<h4>Javascript is disabled on your browser</h4>
			<p class="text-muted">
				You need to enable JavaScript for your app to work.<br>To enable it follow the instructions in the following link: <a href='https://enable-javascript.com/'>enable-javascript.com</a></p>
		</div>
	</noscript>
	<section class='for-login'>
		
<div class="page-card-head">
	<img class="app-logo" src="../../assets/frappe/images/frappe-framework-logo.svg">
	
	<h4>Login to Frappe</h4>
	
</div>

		<div class="login-content page-card">
			<form class="form-signin form-login" role="form"><div class="page-card-body">
					<form class="form-signin form-login" role="form">
						
<div class="page-card-body">
	<div class="form-group">
		<label class="form-label sr-only" for="login_email">Email</label>
		<div class="email-field">
			<input type="text" id="login_email" class="form-control"
				placeholder="jane@example.com"
				required autofocus autocomplete="username">

			<svg class="field-icon email-icon" width="16" height="16" viewBox="0 0 16 16" fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<use class="es-lock" href="#es-line-email"></use>
			</svg>
		</div>
	</div>

	<div class="form-group">
		<label class="form-label sr-only" for="login_password">Password</label>
		<div class="password-field">
			<input type="password" id="login_password" class="form-control" placeholder="•••••"
				autocomplete="current-password" required>

			<svg class="field-icon password-icon" width="16" height="16" viewBox="0 0 16 16" fill="none"
				xmlns="http://www.w3.org/2000/svg">
					<use class="es-lock" href="#es-line-lock"></use>
			</svg>
			<span toggle="#login_password" class="toggle-password text-muted">Show</span>
		</div>
	</div>

	
	<p class="forgot-password-message">
		<a href="{%25=&#32;addr_list[i].name&#32;%25}.html#forgot">Forgot Password?</a>
	</p>
	
</div>

<div class="page-card-actions">
	
	<button class="btn btn-sm btn-primary btn-block btn-login" type="submit">
		Login</button>
	
	
</div>

					</form>
					<div class="social-logins text-center">
						
						<p class="text-muted login-divider">or</p>
						
						<div class="social-login-buttons">
							
							<div class="login-button-wrapper">
								<a href="https://frappecloud.com/api/method/frappe.integrations.oauth2.authorize?redirect_uri=https%3A%2F%2Fdocs.frappe.io%2Fapi%2Fmethod%2Ffrappe.integrations.oauth2_logins.custom%2Ffrappe_cloud&state=eyJzaXRlIjogImh0dHBzOi8vZG9jcy5mcmFwcGUuaW8iLCAidG9rZW4iOiAiODQ4YTY4OWQ3ODcyOWJiOTU5ZTFiZWI3Mjc5OTU0ZDUyMjFkZGZmYTI2ZTgzNzEwOWFkNGQxNDMiLCAicmVkaXJlY3RfdG8iOiAiL2FwcC9hZGRyZXNzL3slPSBhZGRyX2xpc3RbaV0ubmFtZSAlfSJ9&response_type=code&scope=openid&client_id=7jrk0uurl6"
									class="btn btn-block btn-default btn-sm btn-login-option btn-frappe_cloud">
									
										<img src='../../assets/frappe/icons/social/frappe.svg' alt='Frappe Cloud'>
									
									Login with Frappe Cloud</a>
							</div>
							
						</div>

						

						
						<div class="login-with-email-link social-login-buttons">
							<div class="login-button-wrapper">
								<a href="{%25=&#32;addr_list[i].name&#32;%25}.html#login-with-email-link"
									class="btn btn-block btn-default btn-sm btn-login-option btn-login-with-email-link">
									Login with Email Link</a>
							</div>
						</div>
						
					</div>
				</div>
				</form>
		</div></section><section class='for-email-login'>
		
<div class="page-card-head">
	<img class="app-logo" src="../../assets/frappe/images/frappe-framework-logo.svg">
	
	<h4>Login to Frappe</h4>
	
</div>

		<div class="login-content page-card">
			<form class="form-signin form-login" role="form">
			
<div class="page-card-body">
	<div class="form-group">
		<label class="form-label sr-only" for="login_email">Email</label>
		<div class="email-field">
			<input type="text" id="login_email" class="form-control"
				placeholder="jane@example.com"
				required autofocus autocomplete="username">

			<svg class="field-icon email-icon" width="16" height="16" viewBox="0 0 16 16" fill="none"
				xmlns="http://www.w3.org/2000/svg">
				<use class="es-lock" href="#es-line-email"></use>
			</svg>
		</div>
	</div>

	<div class="form-group">
		<label class="form-label sr-only" for="login_password">Password</label>
		<div class="password-field">
			<input type="password" id="login_password" class="form-control" placeholder="•••••"
				autocomplete="current-password" required>

			<svg class="field-icon password-icon" width="16" height="16" viewBox="0 0 16 16" fill="none"
				xmlns="http://www.w3.org/2000/svg">
					<use class="es-lock" href="#es-line-lock"></use>
			</svg>
			<span toggle="#login_password" class="toggle-password text-muted">Show</span>
		</div>
	</div>

	
	<p class="forgot-password-message">
		<a href="{%25=&#32;addr_list[i].name&#32;%25}.html#forgot">Forgot Password?</a>
	</p>
	
</div>

<div class="page-card-actions">
	
	<button class="btn btn-sm btn-primary btn-block btn-login" type="submit">
		Login</button>
	
	
</div>

			</form>
		</div></section><section class='for-signup signup-disabled'>
		
<div class="page-card-head">
	<img class="app-logo" src="../../assets/frappe/images/frappe-framework-logo.svg">
	
	<h4>Create a Frappe Account</h4>
	
</div>

		<div class="login-content page-card"><div class='page-card-head mb-2'>
				<span class='indicator gray'>Signup Disabled</span>
				<p class="text-muted text-normal sign-up-message mt-1 mb-8">Signups have been disabled for this website.</p>
				<div><a href='../../index.html' class='btn btn-primary btn-md'>Home</a></div>
			</div></div>

	</section>

	<section class='for-forgot'>
		
<div class="page-card-head">
	<img class="app-logo" src="../../assets/frappe/images/frappe-framework-logo.svg">
	
	<h4>Forgot Password</h4>
	
</div>

		<div class="login-content page-card">
			<form class="form-signin form-forgot hide" role="form">
				<div class="page-card-body">
					<div class="email-field">
						<input type="email" id="forgot_email" class="form-control"
							placeholder="Email Address" required autofocus autocomplete="username">
						<svg class="field-icon email-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
							xmlns="http://www.w3.org/2000/svg">
							<path
								d="M2.5 7.65149V15.0757C2.5 15.4374 2.64367 15.7842 2.8994 16.04C3.15513 16.2957 3.50198 16.4394 3.86364 16.4394H16.1364C16.498 16.4394 16.8449 16.2957 17.1006 16.04C17.3563 15.7842 17.5 15.4374 17.5 15.0757V7.65149"
								stroke="#74808B" stroke-miterlimit="10" stroke-linecap="square" />
							<path
								d="M17.5 7.57572V5.53026C17.5 5.1686 17.3563 4.82176 17.1006 4.56603C16.8449 4.31029 16.498 4.16663 16.1364 4.16663H3.86364C3.50198 4.16663 3.15513 4.31029 2.8994 4.56603C2.64367 4.82176 2.5 5.1686 2.5 5.53026V7.57572L10 10.8333L17.5 7.57572Z"
								stroke="#74808B" stroke-miterlimit="10" stroke-linecap="square" />
						</svg>

					</div>
				</div>
				<div class="page-card-actions">
					<button class="btn btn-sm btn-primary btn-block btn-forgot"
						type="submit">Reset Password</button>
					<p class="text-center sign-up-message">
						<a href="{%25=&#32;addr_list[i].name&#32;%25}.html#login">Back to Login</a>
					</p>
				</div>

			</form>
		</div>
	</section>

	<section class='for-login-with-email-link'>
			
<div class="page-card-head">
	<img class="app-logo" src="../../assets/frappe/images/frappe-framework-logo.svg">
	
	<h4>Login with Email Link</h4>
	
</div>

		<div class="login-content page-card">
			<form class="form-signin form-login-with-email-link hide" role="form">
				<div class="page-card-body">
					<div class="email-field">
						<input type="email" id="login_with_email_link_email" class="form-control"
							placeholder="Email Address" required autofocus autocomplete="username">
						<svg class="field-icon email-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
							xmlns="http://www.w3.org/2000/svg">
							<path
								d="M2.5 7.65149V15.0757C2.5 15.4374 2.64367 15.7842 2.8994 16.04C3.15513 16.2957 3.50198 16.4394 3.86364 16.4394H16.1364C16.498 16.4394 16.8449 16.2957 17.1006 16.04C17.3563 15.7842 17.5 15.4374 17.5 15.0757V7.65149"
								stroke="#74808B" stroke-miterlimit="10" stroke-linecap="square" />
							<path
								d="M17.5 7.57572V5.53026C17.5 5.1686 17.3563 4.82176 17.1006 4.56603C16.8449 4.31029 16.498 4.16663 16.1364 4.16663H3.86364C3.50198 4.16663 3.15513 4.31029 2.8994 4.56603C2.64367 4.82176 2.5 5.1686 2.5 5.53026V7.57572L10 10.8333L17.5 7.57572Z"
								stroke="#74808B" stroke-miterlimit="10" stroke-linecap="square" />
						</svg>
					</div>
				</div>
				<div class="page-card-actions">
					<button class="btn btn-sm btn-primary btn-block btn-login-with-email-link"
						type="submit">Send login link</button>
					<p class="text-center sign-up-message">
						<a href="{%25=&#32;addr_list[i].name&#32;%25}.html#login">Back to Login</a>
					</p>
				</div>
			</form>
		</div>
	</section>
</div>
</div>

		<div class="page-footer"></div>
	</main>
	
</div>

</div>


<footer class="web-footer">
<div class="container">
<div class="footer-logo-extension">
<div class="row">
<div class="text-left col-md-6"></div>
<div class="text-right col-md-6">
</div>
</div>
</div>
<div class="footer-links">
<div class="row">
<div class="footer-col-left col-sm-6"></div>
<div class="footer-col-right col-sm-6"></div>
</div>
</div>
<div class="footer-info">
<div class="row">
<div class="footer-col-left col-sm-6 col-12">
</div>
<div class="footer-col-right col-sm-6 col-12 footer-powered">
			Built on <a class="text-muted" href="https://frappeframework.com?source=website_footer" target="_blank">Frappe</a>
</div>
</div>
</div>
</div>
</footer><div id="all-symbols" style="display:none"></div><script type="text/javascript">fetch(`/assets/frappe/icons/timeless/icons.svg?v=${window._version_number}`, {credentials: "same-origin"}).then((r) => r.text()).then((svg) => {let c = document.getElementById("all-symbols"); c.insertAdjacentHTML("beforeend", svg);});</script><script type="text/javascript">fetch(`/assets/frappe/icons/espresso/icons.svg?v=${window._version_number}`, {credentials: "same-origin"}).then((r) => r.text()).then((svg) => {let c = document.getElementById("all-symbols"); c.insertAdjacentHTML("beforeend", svg);});</script>
	<!-- js should be loaded in body! -->
	<script>
		frappe.boot = {
 "apps_data": {
  "apps": [],
  "default_path": "",
  "is_desk_apps": 1
 },
 "assets_json": {
  "billing.bundle.js": "/assets/frappe/dist/js/billing.bundle.QKWL3DBH.js",
  "bootstrap-4-web.bundle.js": "/assets/frappe/dist/js/bootstrap-4-web.bundle.FOZOVELL.js",
  "build_events.bundle.js": "/assets/frappe/dist/js/build_events.bundle.BCX32TWL.js",
  "calendar.bundle.js": "/assets/frappe/dist/js/calendar.bundle.4A4YITIU.js",
  "contributions.bundle.css": "/assets/wiki/dist/css/contributions.bundle.V5SJOPBZ.css",
  "controls.bundle.js": "/assets/frappe/dist/js/controls.bundle.SW2VYA2N.js",
  "data_import_tools.bundle.js": "/assets/frappe/dist/js/data_import_tools.bundle.Q5YT4XP2.js",
  "desk.bundle.css": "/assets/frappe/dist/css/desk.bundle.3RNBZGNM.css",
  "desk.bundle.js": "/assets/frappe/dist/js/desk.bundle.PSRFWQQG.js",
  "dialog.bundle.js": "/assets/frappe/dist/js/dialog.bundle.NBJCI2WV.js",
  "email.bundle.css": "/assets/frappe/dist/css/email.bundle.7Y67M3VC.css",
  "file_uploader.bundle.js": "/assets/frappe/dist/js/file_uploader.bundle.QQ4TBKF5.js",
  "form.bundle.js": "/assets/frappe/dist/js/form.bundle.DPQKBSIB.js",
  "form_builder.bundle.js": "/assets/frappe/dist/js/form_builder.bundle.NRPX4YQU.js",
  "frappe-web.bundle.js": "/assets/frappe/dist/js/frappe-web.bundle.JBX5EWER.js",
  "kanban_board.bundle.js": "/assets/frappe/dist/js/kanban_board.bundle.F6FPXXED.js",
  "libs.bundle.js": "/assets/frappe/dist/js/libs.bundle.TIV7ZGVY.js",
  "list.bundle.js": "/assets/frappe/dist/js/list.bundle.H4MKMV64.js",
  "login.bundle.css": "/assets/frappe/dist/css/login.bundle.4MS4DR47.css",
  "logtypes.bundle.js": "/assets/frappe/dist/js/logtypes.bundle.5KO3ZOOI.js",
  "onboarding_tours.bundle.js": "/assets/frappe/dist/js/onboarding_tours.bundle.RAUR6X4Z.js",
  "photoswipe.bundle.js": "/assets/frappe/dist/js/photoswipe.bundle.YSXZQA64.js",
  "print.bundle.css": "/assets/frappe/dist/css/print.bundle.PHBHDJN6.css",
  "print_format.bundle.css": "/assets/frappe/dist/css/print_format.bundle.IGZW5HSX.css",
  "print_format_builder.bundle.js": "/assets/frappe/dist/js/print_format_builder.bundle.VQYWNAGA.js",
  "report.bundle.css": "/assets/frappe/dist/css/report.bundle.4AGBPYDB.css",
  "report.bundle.js": "/assets/frappe/dist/js/report.bundle.QQAM6CVL.js",
  "rtl_contributions.bundle.css": "/assets/wiki/dist/css-rtl/contributions.bundle.2DC3OMYN.css",
  "rtl_desk.bundle.css": "/assets/frappe/dist/css-rtl/desk.bundle.ACSWXTZE.css",
  "rtl_email.bundle.css": "/assets/frappe/dist/css-rtl/email.bundle.6WX2NYI7.css",
  "rtl_login.bundle.css": "/assets/frappe/dist/css-rtl/login.bundle.ZTIRCNDY.css",
  "rtl_print.bundle.css": "/assets/frappe/dist/css-rtl/print.bundle.BIV7ZRH4.css",
  "rtl_print_format.bundle.css": "/assets/frappe/dist/css-rtl/print_format.bundle.ZOVH5V6L.css",
  "rtl_report.bundle.css": "/assets/frappe/dist/css-rtl/report.bundle.J33LHVZX.css",
  "rtl_web_form.bundle.css": "/assets/frappe/dist/css-rtl/web_form.bundle.WKLZIE2K.css",
  "rtl_website.bundle.css": "/assets/frappe/dist/css-rtl/website.bundle.AC5ZDGYD.css",
  "rtl_wiki.bundle.css": "/assets/wiki/dist/css-rtl/wiki.bundle.5ABKTQTC.css",
  "sentry.bundle.js": "/assets/frappe/dist/js/sentry.bundle.AX44GVWW.js",
  "telemetry.bundle.js": "/assets/frappe/dist/js/telemetry.bundle.LKEZCADB.js",
  "user_profile_controller.bundle.js": "/assets/frappe/dist/js/user_profile_controller.bundle.TPZWXYWN.js",
  "video_player.bundle.js": "/assets/frappe/dist/js/video_player.bundle.DUYYLSFO.js",
  "web_form.bundle.css": "/assets/frappe/dist/css/web_form.bundle.QBM6ZZOR.css",
  "web_form.bundle.js": "/assets/frappe/dist/js/web_form.bundle.GZWC6LDP.js",
  "website.bundle.css": "/assets/frappe/dist/css/website.bundle.RHGQXNFY.css",
  "wiki.bundle.css": "/assets/wiki/dist/css/wiki.bundle.62WRFBMX.css",
  "wiki.bundle.js": "/assets/wiki/dist/js/wiki.bundle.WQQQOK77.js",
  "workflow_builder.bundle.js": "/assets/frappe/dist/js/workflow_builder.bundle.MPAFFZ3D.js"
 },
 "is_fc_site": 0,
 "lang": "en",
 "sitename": "frappedocs.frappe.cloud",
 "sysdefaults": {
  "currency": "INR",
  "date_format": "dd-mm-yyyy",
  "first_day_of_the_week": "Sunday",
  "float_precision": 3,
  "number_format": "#,##,###.##",
  "time_format": "HH:mm:ss"
 },
 "time_zone": {
  "system": "Asia/Kolkata",
  "user": "Asia/Kolkata"
 }
}
		// for backward compatibility of some libs
		frappe.sys_defaults = frappe.boot.sysdefaults;
	</script>
	<script type="text/javascript" src="../../assets/frappe/dist/js/frappe-web.bundle.JBX5EWER.js"></script>
	
	<script type="text/javascript" src="../../website_script.js"></script>
<script>// login.js
// don't remove this line (used in test)

window.disable_signup = true;
window.show_footer_on_login = false;

window.login = {};

window.verify = {};

login.bind_events = function () {
	$(window).on("hashchange", function () {
		login.route();
	});

	$(".form-login").on("submit", function (event) {
		event.preventDefault();
		var args = {};
		args.cmd = "login";
		args.usr = frappe.utils.xss_sanitise(($("#login_email").val() || "").trim());
		args.pwd = $("#login_password").val();
		if (!args.usr || !args.pwd) {
			
			frappe.msgprint("Both login and password required");
			return false;
		}
		login.call(args, null, "/login");
		return false;
	});

	$(".form-signup").on("submit", function (event) {
		event.preventDefault();
		var args = {};
		args.cmd = "frappe.core.doctype.user.user.sign_up";
		args.email = ($("#signup_email").val() || "").trim();
		args.redirect_to = frappe.utils.sanitise_redirect(frappe.utils.get_url_arg("redirect-to"));
		args.full_name = frappe.utils.xss_sanitise(($("#signup_fullname").val() || "").trim());
		if (!args.email || !validate_email(args.email) || !args.full_name) {
			login.set_status("Valid email and name required", 'red');
			return false;
		}
		login.call(args);
		return false;
	});

	$(".form-forgot").on("submit", function (event) {
		event.preventDefault();
		var args = {};
		args.cmd = "frappe.core.doctype.user.user.reset_password";
		args.user = ($("#forgot_email").val() || "").trim();
		if (!args.user) {
			login.set_status("Valid Login id required.", 'red');
			return false;
		}
		login.call(args);
		return false;
	});

	$(".form-login-with-email-link").on("submit", function (event) {
		event.preventDefault();
		var args = {};
		args.cmd = "frappe.www.login.send_login_link";
		args.email = ($("#login_with_email_link_email").val() || "").trim();
		if (!args.email) {
			login.set_status("Valid Login id required.", 'red');
			return false;
		}
		login.call(args).then(() => {
			login.set_status("Login link sent to your email", 'blue');
			$("#login_with_email_link_email").val("");
		}).catch(() => {
			login.set_status("Send login link", 'blue');
		});

		return false;
	});

	$(".toggle-password").click(function () {
		var input = $($(this).attr("toggle"));
		if (input.attr("type") == "password") {
			input.attr("type", "text");
			$(this).text("Hide")
		} else {
			input.attr("type", "password");
			$(this).text("Show")
		}
	});

	
}


login.route = function () {
	var route = window.location.hash.slice(1);
	if (!route) route = "login";
	route = route.replaceAll("-", "_");
	login[route]();
}

login.reset_sections = function (hide) {
	if (hide || hide === undefined) {
		$("section.for-login").toggle(false);
		$("section.for-email-login").toggle(false);
		$("section.for-forgot").toggle(false);
		$("section.for-login-with-email-link").toggle(false);
		$("section.for-signup").toggle(false);
	}
	$('section:not(.signup-disabled) .indicator').each(function () {
		$(this).removeClass().addClass('indicator').addClass('blue')
			.text($(this).attr('data-text'));
	});
}

login.login = function () {
	login.reset_sections();
	$(".for-login").toggle(true);
}

login.email = function () {
	login.reset_sections();
	$(".for-email-login").toggle(true);
	$("#login_email").focus();
}

login.steptwo = function () {
	login.reset_sections();
	$(".for-login").toggle(true);
	$("#login_email").focus();
}

login.forgot = function () {
	login.reset_sections();
	if ($("#login_email").val()) {
		$("#forgot_email").val($("#login_email").val());
	}
	$(".for-forgot").toggle(true);
	$("#forgot_email").focus();
}

login.login_with_email_link = function () {
	login.reset_sections();
	if ($("#login_email").val()) {
		$("#login_with_email_link_email").val($("#login_email").val());
	}
	$(".for-login-with-email-link").toggle(true);
	$("#login_with_email_link_email").focus();
}

login.signup = function () {
	login.reset_sections();
	$(".for-signup").toggle(true);
	$("#signup_fullname").focus();
}


// Login
login.call = function (args, callback, url="/") {
	login.set_status("Verifying...", 'blue');

	return frappe.call({
		type: "POST",
		url: url,
		args: args,
		callback: callback,
		freeze: true,
		statusCode: login.login_handlers
	});
}

login.set_status = function (message, color) {
	$('section:visible .btn-primary').text(message)
	if (color == "red") {
		$('section:visible .page-card-body').addClass("invalid");
	}
}

login.set_invalid = function (message) {
	$(".login-content.page-card").addClass('invalid-login');
	setTimeout(() => {
		$(".login-content.page-card").removeClass('invalid-login');
	}, 500)
	login.set_status(message, 'red');
	$("#login_password").focus();
}

login.login_handlers = (function () {
	var get_error_handler = function (default_message) {
		return function (xhr, data) {
			if (xhr.responseJSON) {
				data = xhr.responseJSON;
			}

			var message = default_message;
			if (data._server_messages) {
				message = ($.map(JSON.parse(data._server_messages || '[]'), function (v) {
					// temp fix for messages sent as dict
					try {
						return JSON.parse(v).message;
					} catch (e) {
						return v;
					}
				}) || []).join('<br>') || default_message;
			}

			if (message === default_message) {
				login.set_invalid(message);
			} else {
				login.reset_sections(false);
			}

		};
	}

	var login_handlers = {
		200: function (data) {
			if (data.message == 'Logged In') {
				login.set_status("Success", 'green');
				document.body.innerHTML = `<div class="centered splash">
	<img src="../../assets/frappe/images/frappe-framework-logo.svg"
		style="width: auto; max-width: 200px;">
</div>`;
				window.location.href = frappe.utils.sanitise_redirect(frappe.utils.get_url_arg("redirect-to")) || data.home_page;
			} else if (data.message == 'Password Reset') {
				window.location.href = frappe.utils.sanitise_redirect(data.redirect_to);
			} else if (data.message == "No App") {
				login.set_status("Success", 'green');
				if (localStorage) {
					var last_visited =
						localStorage.getItem("last_visited")
						|| frappe.utils.sanitise_redirect(frappe.utils.get_url_arg("redirect-to"));
					localStorage.removeItem("last_visited");
				}

				if (data.redirect_to) {
					window.location.href = frappe.utils.sanitise_redirect(data.redirect_to);
				}

				if (last_visited && last_visited != "/login") {
					window.location.href = last_visited;
				} else {
					window.location.href = data.home_page;
				}
			} else if (window.location.hash === '#forgot') {
				if (data.message === 'not found') {
					login.set_status("Not a valid user", 'red');
				} else if (data.message == 'not allowed') {
					login.set_status("Not Allowed", 'red');
				} else if (data.message == 'disabled') {
					login.set_status("Not Allowed: Disabled User", 'red');
				} else {
					login.set_status("Instructions Emailed", 'green');
				}


			} else if (window.location.hash === '#signup') {
				if (cint(data.message[0]) == 0) {
					login.set_status(data.message[1], 'red');
				} else {
					login.set_status("Success", 'green');
					frappe.msgprint(data.message[1])
				}
				//login.set_status(__(data.message), 'green');
			}

			//OTP verification
			if (data.verification && data.message != 'Logged In') {
				login.set_status("Success", 'green');

				document.cookie = "tmp_id=" + data.tmp_id;

				if (data.verification.method == 'OTP App') {
					continue_otp_app(data.verification.setup, data.verification.qrcode);
				} else if (data.verification.method == 'SMS') {
					continue_sms(data.verification.setup, data.verification.prompt);
				} else if (data.verification.method == 'Email') {
					continue_email(data.verification.setup, data.verification.prompt);
				}
			}
		},
		401: get_error_handler("Invalid Login. Try again."),
		417: get_error_handler("Oops! Something went wrong."),
		404: get_error_handler("User does not exist."),
		500: get_error_handler("Something went wrong.")
	};

	return login_handlers;
})();

frappe.ready(function () {

	login.bind_events();
	if (window.show_footer_on_login) {
		$("body .web-footer").show();
	}

	$(".form-signup, .form-forgot, .form-login-with-email-link").removeClass("hide");
	$(document).trigger('login_rendered');
});

var verify_token = function (event) {
	$(".form-verify").on("submit", function (eventx) {
		eventx.preventDefault();
		var args = {};
		args.cmd = "login";
		args.otp = $("#login_token").val();
		args.tmp_id = frappe.get_cookie('tmp_id');
		if (!args.otp) {
			
			frappe.msgprint("Login token required");
			return false;
		}
		login.call(args);
		return false;
	});
}

var request_otp = function (r) {
	$('.login-content').empty();
	$('.login-content:visible').append(
		`<div id="twofactor_div">
			<form class="form-verify">
				<div class="page-card-head p-0">
					<span class="indicator blue" data-text="Verification">Verification</span>
				</div>
				<div id="otp_div"></div>
				<input type="text" id="login_token" autocomplete="off" class="form-control" placeholder="Verification Code" required="">
				<button class="btn btn-sm btn-primary btn-block mt-3" id="verify_token">Verify</button>
			</form>
		</div>`
	);
	// add event handler for submit button
	verify_token();
	$("#login_token").get(0)?.focus();
}

var continue_otp_app = function (setup, qrcode) {
	request_otp();
	var qrcode_div = $('<div class="text-muted" style="padding-bottom: 15px;"></div>');

	if (setup) {
		direction = $('<div>').attr('id', 'qr_info').text("Enter Code displayed in OTP App.");
		qrcode_div.append(direction);
		$('#otp_div').prepend(qrcode_div);
	} else {
		direction = $('<div>').attr('id', 'qr_info').text("OTP setup using OTP App was not completed. Please contact Administrator.");
		qrcode_div.append(direction);
		$('#otp_div').prepend(qrcode_div);
	}
}

var continue_sms = function (setup, prompt) {
	request_otp();
	var sms_div = $('<div class="text-muted" style="padding-bottom: 15px;"></div>');

	if (setup) {
		sms_div.append(prompt)
		$('#otp_div').prepend(sms_div);
	} else {
		direction = $('<div>').attr('id', 'qr_info').html(prompt || "SMS was not sent. Please contact Administrator.");
		sms_div.append(direction);
		$('#otp_div').prepend(sms_div)
	}
}

var continue_email = function (setup, prompt) {
	request_otp();
	var email_div = $('<div class="text-muted" style="padding-bottom: 15px;"></div>');

	if (setup) {
		email_div.append(prompt)
		$('#otp_div').prepend(email_div);
	} else {
		var direction = $('<div>').attr('id', 'qr_info').html(prompt || "Verification code email not sent. Please contact Administrator.");
		email_div.append(direction);
		$('#otp_div').prepend(email_div);
	}
}

login.route();</script>

	<script>frappe.csrf_token = "None";</script></body>
</html>